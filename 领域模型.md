领域概念

- 合理的划分从签证到名单到发薪的三个独立的部分，从core domain 到 support domain 之间的区别 
- 如果业务规则的复杂度不会减少，对应的IT支撑的实现同样也是不能减少的，我们所说的使用DDD的模型设计，只是用来减少这个负责度的变化曲线，网上有个关于DDD的图像演变的说明 
- http://www.infoq.com/cn/articles/ddd-evolving-architecture
- DDD 与 单体应用说明的曲线 

八国推行碰到的一些常见问题

- 原来方案中的法人实体是不是合理，如果一个国家只对应一个法人实体，一个Payroll ，有没有方法简化前端签证系统的维护的负责度
- 一个人同时持有多个国家的需要发薪的工作签的时候，如何解决此场景
- 如果解决方案太过于多的规则，会导致国家层面的对方案的理解更难，再加上国家层面的签证专员有外包、行政，非HR体系的人员

签证侧要解决的问题

- 场景1：员工已经到当地报道，但中国侧后录入此员工的签证数据，这两边的协同需要处理
- 场景2：对于海外国家，没有足够的人力支撑当地按照流程规定完成相应的注册流程、注销流程、延期流程，直接维护结果数据，这种模式会导致数据重复，特别是延期流程
- 场景3：对于公司的调动模式越来越多，上游的调动如何下游流程签证管理配合，需要尽快明确
- 场景4：现有签证业务中可以录入及修改签证数据的入口有流程录入、签证专员手工录入结果、批量导入、签证主管直接修改数据、员工自己录入和修改，数据修改有多头，会导致数据前后不一致的现象，是否可以进行限制
- 场景5：错误录入的签证数据如果处理

业务规则需要关注重新审视

- 签证作为生成中方外派员工发薪名单的源头，后台提供的业务规则需要包括的范围
  - 人员名单的开始与结束的判断
  - 人员归属于那个国家对应的Payroll的标识
  - 现有方案中最复杂的各类时间段的合并规则，是否重新简化，包括签证侧和PDI侧的两段合并
- 原来方案中的法人实体是不是合理，如果一个国家只对应一个法人实体，一个Payroll ，有没有方法简化前端签证系统的维护的负责度
- 一个人同时持有多个国家的需要发薪的工作签的时候，如何解决此场景
- 场景1 ：签证的注册环节和注销环节是花费一段时间的，从办理开始到办理结果的拿到，可能会跨月，在国家选择业务规则的时候需要考虑这种场景，比如员工在2018年2月初选择了注销，注销日期是2018年2月15号，但整个注销流程在2018年3月12号完成，最近这个员工在2018年2月、3月的发薪应该是什么的规则呢？
- 场景2：对于离职员工和调动员工的签证注销，会出现员工已经离职或者已经调动走了，但签证没有办法自动触发对应的注销流程，原因就是上游的流程的审批没有完成
- 场景3：是否有特殊规定，签证延期必须回母国重新办理新签证，这种情况下，是否一定也要连续本地发薪

数据层面看到的问题

- 签证传递的数据应该划分为至少三段
  1.  与人相关的自然属性、公司属性的数据
  2.  与签证相关的签证属性，但不用规则的判断，仅是数据传递
  3.  与签证强相关的数据，用于规则的判断和分类，对产生系统异常
